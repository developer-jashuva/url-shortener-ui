<section class="hero">
  <h1>Secure URL Shortener</h1>
  <p>
    Shorten long links safely with duplicate detection and click tracking.
  </p>

  <button (click)="scrollToTool()">Start Shortening</button>
</section>

<div class="container vh-100 d-flex justify-content-center align-items-center">

  <div class="card shadow p-4" style="width: 420px; border-radius: 15px;">

    <h3 class="text-center mb-4 text-primary">
      üîê Secure URL Shortener
    </h3>

    <!-- Input -->
    <input
      type="text"
      class="form-control mb-3"
      placeholder="Enter URL..."
      [(ngModel)]="urlInput"
    />

    <!-- Button -->
    <button
      class="btn btn-primary w-100 mb-3"
      (click)="shorten()"
    >
      Shorten URL
    </button>

    <!-- Success Output -->
    <div *ngIf="shortUrl" class="alert alert-success text-center">

      <strong>Short URL:</strong>

      <div class="mt-2 d-flex justify-content-between align-items-center">

        <a [href]="shortUrl" target="_blank">
          {{ shortUrl }}
        </a>

        <button
          class="btn btn-sm btn-outline-dark"
          (click)="copyUrl()"
        >
          Copy
        </button>

      </div>

    </div>

    <!-- Error Output -->
    <div *ngIf="errorMessage" class="alert alert-danger text-center">
      {{ errorMessage }}
    </div>

  </div>
</div>
<div class="container mt-4" *ngIf="history.length">

  <div class="card p-3 shadow">

    <h5 class="mb-3">Your Shortened URLs</h5>

    <table class="table table-striped">

      <thead>
        <tr>
          <th>Original URL</th>
          <th>Short URL</th>
          <th>Clicks</th>
          <th>Created</th>
          <th>Action</th>

        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of history">
          <td>{{ item.originalUrl }}</td>
          <td>
            <a [href]="item.shortUrl" target="_blank">
              {{ item.shortUrl }}
            </a>
          </td>
          <td>{{ item.clickCount }}</td>
          <td>{{ item.createdAt | date:'short' }}</td>
          <td>
  <button
    class="btn btn-sm btn-danger"
    (click)="delete(item)">
    Delete
  </button>
</td>

        </tr>
      </tbody>

    </table>

  </div>

</div>

